# 数据集更新日志

## 🎉 Version 2.0 - 2023-10-05

### 📊 重大升级：真实规模数据集

---

## 📈 规模对比

### 总体数据

| 指标 | V1.0（样本数据） | V2.0（真实规模） | 增长 |
|------|-----------------|-----------------|------|
| **总记录数** | 10,368 行 | **36,610 行** | **+253%** ⬆️ |
| **总大小** | 713 KB | **3.3 MB** | **+363%** ⬆️ |
| **字段数** | 基础字段 | **丰富特征** | +15个新字段 |
| **时间跨度** | 1年 | **2年** | +100% |

---

### 详细对比

#### 1️⃣ 在线零售交易数据

| 项目 | V1.0 | V2.0 | 变化 |
|------|------|------|------|
| 文件名 | `ecommerce_transactions_sample.csv` | `online_retail_transactions.csv` | ✅ 重命名 |
| 记录数 | 60行 | **2,870行** | **+4,683%** 🚀 |
| 客户数 | 10个 | **300个** | **+2,900%** |
| 商品数 | 8种 | **20种** | **+150%** |
| 字段数 | 8列 | **11列** | +3列 |
| 大小 | 3.7 KB | **264 KB** | +7,000% |

**新增字段**:
- ✨ `InvoiceNo` - 发票编号
- ✨ `StockCode` - 商品代码
- ✨ `Discount` - 折扣金额

**数据质量提升**:
- ✅ 真实的客户分层（高/中/低价值）
- ✅ 符合2-8法则的消费分布
- ✅ 合理的购买间隔（7-60天）
- ✅ 真实的商品价格波动

---

#### 2️⃣ 日销售时间序列

| 项目 | V1.0 | V2.0 | 变化 |
|------|------|------|------|
| 文件名 | `daily_sales_sample.csv` | `daily_sales_timeseries.csv` | ✅ 重命名 |
| 记录数 | 60行 | **730行** | **+1,117%** 🚀 |
| 时间跨度 | 2个月 | **2年** | **+1,100%** |
| 字段数 | 4列 | **10列** | **+6列** |
| 大小 | 1.8 KB | **43 KB** | +2,289% |
| 总销售额 | - | **¥47,664,397** | 新增 |
| 总订单数 | - | **173,219笔** | 新增 |

**新增字段**:
- ✨ `visitor_count` - 访客数
- ✨ `new_customer_count` - 新客数
- ✨ `return_rate` - 退货率
- ✨ `is_promotion` - 促销标记
- ✨ `conversion_rate` - 转化率
- ✨ `avg_order_value` - 客单价

**数据特征升级**:
- ✅ 年度增长趋势（+50%）
- ✅ 季节性周期（年+季度双周期）
- ✅ 周效应（7天周期）
- ✅ 月末效应（28-31日高峰）
- ✅ 促销冲击（双11销售额+150-250%）
- ✅ 真实噪声（σ=3,500元）

---

#### 3️⃣ 用户流失特征

| 项目 | V1.0 | V2.0 | 变化 |
|------|------|------|------|
| 文件名 | `user_behavior_sample.csv` | `customer_churn_features.csv` | ✅ 重命名 |
| 记录数 | 50行 | **5,000行** | **+9,900%** 🚀 |
| 用户数 | 50个 | **5,000个** | **+9,900%** |
| 字段数 | 5列 | **27列** | **+22列** |
| 大小 | 1.7 KB | **773 KB** | +45,388% |
| 流失率 | - | **62.3%** | 新增 |

**新增特征维度**:

**行为特征** (5个):
- ✨ `total_page_views` - 总浏览页面数
- ✨ `cart_add_count` - 加购次数
- ✨ `wishlist_count` - 收藏数
- ✨ `coupon_usage_count` - 优惠券使用次数
- ✨ `avg_session_duration_min` - 平均会话时长

**时间特征** (3个):
- ✨ `days_since_last_login` - 距上次登录天数
- ✨ `days_since_last_purchase` - 距上次购买天数
- ✨ `days_since_last_cart` - 距上次加购天数

**派生特征** (5个):
- ✨ `avg_purchase_value` - 平均客单价
- ✨ `monthly_purchase_frequency` - 月均购买次数
- ✨ `days_per_purchase` - 平均购买间隔
- ✨ `cart_conversion_rate` - 加购转化率
- ✨ `browse_to_buy_rate` - 浏览购买率

**分类特征** (8个):
- ✨ `customer_segment` - 客户分群（6类）
- ✨ `preferred_category` - 偏好品类（8类）
- ✨ `registration_channel` - 注册渠道（6类）
- ✨ `age_group` - 年龄段（5类）
- ✨ `city_tier` - 城市等级（5类）
- ✨ `device_type` - 设备类型（4类）
- ✨ `member_level` - 会员等级（5级）
- ✨ `churn_risk_level` - 流失风险等级

**业务价值**:
- ✅ 支持26维特征建模
- ✅ 流失风险分层（高17.7% | 中63.9% | 低18.4%）
- ✅ 更复杂的流失规则（多因素评分）
- ✅ 概率性判定（模拟真实场景）

---

#### 4️⃣ 购物篮交易

| 项目 | V1.0 | V2.0 | 变化 |
|------|------|------|------|
| 文件名 | `transactions_sample.csv` | `market_basket_transactions.csv` | ✅ 重命名 |
| 记录数 | 50行 | **28,010行** | **+55,920%** 🚀 |
| 订单数 | 50个 | **10,000个** | **+19,900%** |
| 商品数 | 5种 | **48种** | **+860%** |
| 类别数 | 1类 | **6类** | **+500%** |
| 字段数 | 5列 | **9列** | **+4列** |
| 大小 | 1.4 KB | **2,218 KB** | +158,371% |

**新增字段**:
- ✨ `order_datetime` - 精确到秒的下单时间
- ✨ `discount` - 折扣金额（20%商品有折扣）
- ✨ `payment_method` - 支付方式（5种）
- ✨ `total_amount` - 扣除折扣后的实付金额

**商品分类扩展**:
- 📱 手机配件（8种商品）
- 💻 电脑配件（8种商品）
- 🏠 家居用品（8种商品）
- 🍫 零食饮料（8种商品）
- 💄 个护美妆（8种商品）
- 🏃 运动户外（8种商品）

**关联规则升级**:
- V1.0: 7组关联规则
- V2.0: **20组关联规则**
- 覆盖6大类别
- 支持度：35%-82%
- 置信度：低/中/高三级

**业务规律**:
- ✅ 类别权重（手机、电脑配件更热门）
- ✅ 数量分布（60% 1件, 25% 2件, 10% 3件, 5% 4件）
- ✅ 价格浮动（±15%波动）
- ✅ 折扣策略（20%商品折扣5-30%）
- ✅ 支付方式分布（支付宝35%, 微信30%...）
- ✅ 跨类别购买（35%概率）

---

## 🎯 数据质量提升

### V1.0 的局限性

❌ **数据规模太小** - 50-60行数据，无法体现真实业务复杂度  
❌ **特征维度有限** - 仅4-8个字段，不足以支撑复杂分析  
❌ **缺乏时间周期** - 无法展示季节性、趋势等时序特征  
❌ **简单随机生成** - 不符合真实业务规律和分布  
❌ **缺少关联性** - 数据之间缺乏业务逻辑关联  

### V2.0 的优势

✅ **真实规模** - 2,870 ~ 28,010行，接近真实业务数据量  
✅ **丰富特征** - 最多27个字段，支持多维度分析  
✅ **完整周期** - 2年完整数据，包含年度、季度、月度周期  
✅ **业务逻辑** - 基于真实业务规则生成（客户分层、流失规则、关联规则）  
✅ **数据关联** - RFM特征 → 流失标签，商品A → 商品B关联  
✅ **统计规律** - 趋势、季节性、噪声符合真实分布  
✅ **可解释性** - 每个字段、每个规则都有明确的业务含义  

---

## 📚 技术实现

### 生成脚本

| 版本 | 脚本文件 | 代码行数 | 依赖 |
|------|---------|---------|------|
| V1.0 | `generate_realistic_datasets.py` | ~400行 | 无 |
| V2.0 | `generate_large_datasets.py` | **~500行** | 无 |

### 核心算法

**时间序列生成**:
```python
sales = base + trend + seasonality_yearly + seasonality_quarterly + weekly + month_end + noise
```

**流失评分系统**:
```python
churn_score = f(recency, frequency, monetary, behavior, tenure)
churned = probability_based_on_score(churn_score)
```

**关联规则触发**:
```python
if product_A in basket and random() < support:
    basket.add(product_B)
```

---

## 💡 使用建议

### 适合 V2.0 的场景

✅ **面试作品集展示** - 体现真实项目经验  
✅ **学习数据分析** - 练习完整分析流程  
✅ **算法验证** - 测试ARIMA、XGBoost、Apriori等算法  
✅ **可视化演示** - 制作Tableau/Power BI Dashboard  
✅ **特征工程** - 练习特征提取和选择  

### 不适合的场景

❌ **学术论文** - 仍然是模拟数据  
❌ **生产环境** - 缺少真实业务细节  
❌ **商业决策** - 数据不代表真实市场  

---

## 🔄 升级路径

### 如何升级

1. **自动升级** - 数据集文件已自动替换
2. **无需修改代码** - 前端组件自动适配
3. **向后兼容** - 所有字段都兼容V1.0

### 如果需要回退

```bash
# 运行旧版生成脚本
python scripts/generate_realistic_datasets.py
```

---

## 📊 数据集使用统计

| Notebook项目 | 使用数据集 | 数据规模 | 分析方法 |
|-------------|-----------|---------|---------|
| RFM客户分层 | 在线零售交易 | 2,870行 | RFM模型、K-means聚类 |
| 销售预测 | 日销售时序 | 730行 | ARIMA、季节性分解 |
| 流失预测 | 用户流失特征 | 5,000行 | XGBoost、特征重要性 |
| 购物篮分析 | 购物篮交易 | 28,010行 | Apriori、关联规则 |

---

## 🎉 总结

**V2.0 带来了什么？**

| 维度 | 提升 |
|------|------|
| 数据规模 | 📈 **+253%** |
| 文件大小 | 💾 **+363%** |
| 特征维度 | 🎯 **+15个字段** |
| 时间跨度 | ⏰ **2年完整周期** |
| 业务逻辑 | 🧠 **更复杂更真实** |
| 可分析性 | ⭐ **从⭐⭐提升到⭐⭐⭐⭐⭐** |

**这意味着：**
- ✅ 作品集更有说服力
- ✅ 分析过程更接近真实工作
- ✅ 算法验证更有价值
- ✅ 学习效果更好

---

*最后更新: 2023年10月5日*  
*生成工具: `scripts/generate_large_datasets.py`*  
*数据许可: 仅供学习和展示使用*


